{
  "enabled": true,
  "name": "タスク完了時のコミットとテスト生成",
  "description": "タスクが完了したら変更をgit commitし、その後作成されたコードに対するテストコードを生成して再度コミットします",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": [
      "**/*.ts",
      "**/*.tsx",
      "**/*.js",
      "**/*.jsx"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "タスクが完了しました。以下の手順を実行してください：\n\n1. 変更されたファイルを確認し、適切なコミットメッセージを作成してgit commitを実行してください\n2. 今回のタスクで作成・変更されたコードに対するテストコードを作成してください（まだ存在しない場合）\n3. テストコードが作成されたら、以下のコマンドを実行してください：\n   - pnpm lint\n   - pnpm type-check\n   - pnpm test:ci\n4. すべてのチェックが通ったら、テストコードを含めて再度git commitを実行してください\n\nすべての作業を日本語で説明し、TSDocを含めた適切なコメントを記述してください。"
  }
}